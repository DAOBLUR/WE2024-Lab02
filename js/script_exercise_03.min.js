const Canvas=document.getElementById("myCanvas"),ctx=Canvas.getContext("2d");function UpdateGallow(){switch(Attempts){case 1:ctx.beginPath(),ctx.lineTo(25,125),ctx.lineTo(25,100),ctx.stroke();break;case 2:ctx.beginPath(),ctx.lineTo(25,95),ctx.lineTo(25,70),ctx.stroke();break;case 3:ctx.beginPath(),ctx.lineTo(25,65),ctx.lineTo(25,40),ctx.stroke();break;case 4:ctx.beginPath(),ctx.lineTo(25,35),ctx.lineTo(100,35),ctx.stroke();break;case 5:ctx.beginPath(),ctx.lineTo(100,35),ctx.lineTo(100,40),ctx.stroke();break;case 6:ctx.beginPath(),ctx.arc(100,50,10,0,2*Math.PI),ctx.stroke();break;case 7:ctx.beginPath(),ctx.lineTo(100,65),ctx.lineTo(100,90),ctx.stroke();break;case 8:ctx.beginPath(),ctx.lineTo(95,65),ctx.lineTo(80,90),ctx.stroke();break;case 9:ctx.beginPath(),ctx.lineTo(105,65),ctx.lineTo(120,90),ctx.stroke();break;case 10:ctx.beginPath(),ctx.lineTo(95,95),ctx.lineTo(80,120),ctx.stroke();break;case 11:ctx.beginPath(),ctx.lineTo(105,95),ctx.lineTo(120,120),ctx.stroke();break;default:console.log("Error")}Attempts++}ctx.strokeStyle="black";const Questions=[{hint:"Volcán símbolo",answer:"Misti"},{hint:"Monasterio famoso",answer:"Santa Catalina"},{hint:"Cañón profundo",answer:"Colca"},{hint:"Danza típica",answer:"Wititi"},{hint:"Río principal",answer:"Chili"},{hint:"Plato de camarones",answer:"Chupe de camarones"},{hint:"Material de construcción",answer:"Sillar"},{hint:"Iglesia principal",answer:"Catedral de Arequipa"},{hint:"Distrito de terrazas",answer:"Yanahuara"},{hint:"Museo de la momia",answer:"Santuarios Andinos"},{hint:"Reserva de vicuñas",answer:"Salinas y Aguada Blanca"},{hint:"Universidad nacional",answer:"Universidad Nacional de San Agustin"},{hint:"Puente antiguo",answer:"Puente Bolognesi"},{hint:"Valle escénico",answer:"Valle del Colca"},{hint:"Festividad de agosto",answer:"Fiesta de la Virgen de la Asuncion"},{hint:"Mirador popular",answer:"Mirador de Yanahuara"},{hint:"Dormir",answer:"Pichu Pichu"},{hint:"Picante",answer:"Rocoto relleno"},{hint:"Nobel",answer:"Mario Vargas Llosa"},{hint:"Casa histórica",answer:"Casa del Moral"},{hint:"Plato de cerdo",answer:"Adobo arequipeño"},{hint:"Distrito de arte rupestre",answer:"Socabaya"},{hint:"Bebida de anís",answer:"Anis Najar"},{hint:"Festival gastronómico",answer:"Arequipa, Mucho Gusto"},{hint:"Colegio más antiguo",answer:"Independencia Americana"}],Title=(Questions.sort(()=>Math.random()-.5),document.getElementById("title")),Hint=document.getElementById("hint"),InputLetter=document.getElementById("input"),RestartButton=document.getElementById("restart-button"),WordContainer=document.getElementById("word-container"),LetterRegex=/^[a-zñ]$/i,ScoreLabel=(InputLetter.addEventListener("input",function(e){e=e.data;e.match(LetterRegex)&&LetterEntered(e),setTimeout(()=>{InputLetter.value=""},300)}),document.addEventListener("keydown",e=>{"enter"==e.key.toLowerCase()&&GameEnded?Restart():(1===(e=e.key).length&&e.match(LetterRegex)&&LetterEntered(e.toLowerCase()),setTimeout(()=>{InputLetter.value=""},300))}),document.getElementById("score"));let Games=0,Attempts=1,letters=[],UsedLetters=[],MissingLetters=0,Score=0,Win=!1,GameEnded=!1;function StartGame(){InputLetter.value="",Hint.innerText="Hint: "+Questions[Games].hint,InputLetter.style.display="block",RestartButton.style.display="none",GameEnded=!1,Win||(ctx.clearRect(0,0,Canvas.width,Canvas.height),ctx.beginPath(),ctx.lineTo(75,130),ctx.lineTo(25,130),ctx.stroke(),ctx.beginPath(),ctx.lineTo(75,125),ctx.lineTo(25,125),ctx.stroke()),NewQuestion(Questions[Games].answer)}function NewQuestion(e){(letters=Array.from(e)).forEach(e=>{" "!==e&&MissingLetters++}),letters.forEach(e=>{var t=document.createElement("div");" "===e?t.setAttribute("class","word space"):t.setAttribute("class","word letter"),WordContainer.appendChild(t)})}function LetterEntered(e){UsedLetters.includes(e)||(FormalizeLetters(e)?CorrectLetter(e):IncorrectLetter(),UsedLetters.push(e))}function FormalizeLetters(e){let t=0;for(;t<letters.length;){if(letters[t]==e||letters[t]==e.toUpperCase())return!0;t++}return!1}function GetIndex(t){var n=[];for(let e=0;e<letters.length;e++)letters[e]!==t&&letters[e]!==t.toUpperCase()||n.push(e);return n}function CorrectLetter(e){var t=GetIndex(e),n=(MissingLetters-=t.length,document.getElementsByClassName("word"));for(let e=0;e<t.length;e++){var a=n[t[e]],r=document.createTextNode(letters[t[e]]);a.appendChild(r)}0==MissingLetters&&WinGame()}function IncorrectLetter(){UpdateGallow(),12<=Attempts&&GameOver()}function WinGame(){GameEnded=!0,Win=!0,Score++,ScoreLabel.innerHTML="Score: "+Score,Title.innerHTML="Win",InputLetter.style.display="none",RestartButton.style.display="block"}function GameOver(){Win=!1,GameEnded=!0,Score=0,Attempts=1,Title.innerHTML="Game Over";var t,n,a=document.getElementsByClassName("word");for(let e=0;e<letters.length;e++)""==a[e].innerHTML&&(n=(t=a[e]).className,t.className=n+" missing",n=document.createTextNode(letters[e]),t.appendChild(n));InputLetter.style.display="none",RestartButton.style.display="block"}function Restart(){letters=[],UsedLetters=[],MissingLetters=0,Games++,WordContainer.innerHTML="",Title.innerHTML="Hangman",InputLetter.style.display="block",RestartButton.style.display="none",StartGame()}StartGame();